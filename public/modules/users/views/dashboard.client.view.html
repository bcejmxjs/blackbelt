<section data-ng-controller="DashboardController">
    <br/>
    <div class="container" data-ng-init="grabUsersCourses(); getAllLessons(); messagesList()">
        <div class="page-header">
            <h1 class="bg-text" style="text-align: center;">My Dashboard</h1>
        </div>
        <!-- Begin Notification Section -->
		<!-- 
		Dashboard Page
		Users - Course Progress and Notifications
		Admin - Pending Approvals and List of courses managed
		-->
        <div class="col-md-4" >
            <h2 class="bg-text" style="text-align: center; margin-top: 0px">Notifications</h2>
            <h3 style="text-align: center; color: #b0b0b0" data-ng-show="!messages.length"><b> You have no notifications! :) </b></h3> 
            <div data-ng-repeat="message in messages" ng-click="readMessage(message)" class="alert alert-info" style="border-radius: 4px">
                <h4>{{ message.title }}</h4>
                <p>{{ message.body }}</p>
            </div>
            <h2 class="bg-text" style="text-align: center; margin-top: 0px">Belts</h2>
            <div class="panel panel-default" data-ng-repeat="belt in authentication.user.belts">
                <div class="panel-body">
                    <h2 style="margin:0px; text-align: center"> <b>{{ belt.style }}</b> &nbsp | &nbsp {{ belt.color }} </h2>
                </div>
            </div>
        </div>

        <!-- Begin Courses Section -->
        
        <div class="col-md-8"> 
            <h2 class="bg-text" style="text-align: center; margin-top: 0px">Course Progress</h2>
            <div class="panel panel-default" data-ng-repeat="course in courses">
				{{getCourseProgress(course)}}
                <div class="panel-body">
                    <div class="media">
                        <div class="media-left media-middle">
                            <a href="#">
                                <img class="media-object" style="height:64px;" src="../../../modules/core/img/brand/favicon.ico" alt="...">
                            </a>
                        </div>
                        <div class="media-body">
							<a href="/#!/course/{{course._id}}">
                            	<h1 class="course-heading">{{course.name}}</h1>
							</a>
                        </div>
                    </div>
                </div>
                <div class="panel-footer">
                    <div class="progress" style="margin-bottom: 0px; white-space: nowrap;">
						<progressbar class="progress" value="progBarValue" type="{{progBarType}}"><b ng-show="percent">{{progBarText}}</b> </progressbar>
					</div>
                </div>
            </div>
            <a href="/#!/courses">
                <button type="button" class="btn btn-success btn-lg pull-right"> 
                    <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
                    Purchase New Course 
                </button>
            </a>
        </div>
    </div>
</section>
